# JERK Tracker X - Driver Pickup Page

This is a standalone static HTML page for driver pickup confirmation via QR code scanning.

## Purpose

This page is hosted on GitHub Pages and serves as the landing page when drivers scan QR codes generated by the JERK Tracker X mobile app. It works on ANY device (iPhone, Android, desktop) without requiring the app to be installed.

## Setup Instructions

### 1. Create GitHub Repository

1. Go to https://github.com/new
2. Repository name: `jerk-tracker-driver-pickup`
3. Description: "Driver pickup confirmation page for JERK Tracker X"
4. Make it **Public**
5. Click "Create repository"

### 2. Upload This File

```bash
# Navigate to this folder
cd github-pages-driver-pickup

# Initialize git
git init

# Add files
git add .

# Commit
git commit -m "Initial commit: Driver pickup page"

# Add remote (replace YOUR-USERNAME)
git remote add origin https://github.com/YOUR-USERNAME/jerk-tracker-driver-pickup.git

# Push to GitHub
git push -u origin main
```

### 3. Enable GitHub Pages

1. Go to your repository on GitHub
2. Click **Settings** → **Pages**
3. Under "Source", select **Deploy from a branch**
4. Branch: **main** / **root**
5. Click **Save**
6. Wait 1-2 minutes for deployment

### 4. Get Your URL

Your page will be available at:
```
https://YOUR-USERNAME.github.io/jerk-tracker-driver-pickup/
```

Example QR code URL:
```
https://YOUR-USERNAME.github.io/jerk-tracker-driver-pickup/?order=1763848070674_2dqqaaokj
```

### 5. Update API Configuration

**For Development (localhost):**
The `index.html` file is already configured to use `http://localhost:3100`

**For Production:**
When you get a real domain, update this line in `index.html`:
```javascript
const API_BASE_URL = 'https://your-domain.com'; // Change from localhost:3100
```

### 6. Update Mobile App QR Codes

After deploying to GitHub Pages, update the QR code generation in your mobile app:

File: `app/mobile/qr/page.tsx`

Replace `http://localhost:3100` with your GitHub Pages URL:
```typescript
value={`https://YOUR-USERNAME.github.io/jerk-tracker-driver-pickup/?order=${order.id}`}
```

## How It Works

1. Restaurant creates order in mobile app
2. QR code is generated with GitHub Pages URL + order ID
3. Driver scans QR code with their phone camera
4. Browser opens GitHub Pages static page
5. Page fetches order details from your API (localhost or production)
6. Driver enters name and company
7. Form submits pickup confirmation to your API
8. API updates DynamoDB with driver info and timestamp
9. Success screen shows confirmation

## API Endpoints Required

The static page expects these endpoints:

### GET `/api/orders/{orderId}`
Returns order details for display

### POST `/api/orders/{orderId}/pickup`
Confirms pickup with driver information

Request body:
```json
{
  "driverName": "John Smith",
  "deliveryCompany": "DoorDash",
  "pickedUpAt": "2025-11-22T10:30:00.000Z"
}
```

## CORS Configuration

Since the static page calls your API, you need to enable CORS in your Next.js API routes.

Add this to your API route handlers:
```typescript
// Add CORS headers
res.setHeader('Access-Control-Allow-Origin', '*');
res.setHeader('Access-Control-Allow-Methods', 'GET, POST, OPTIONS');
res.setHeader('Access-Control-Allow-Headers', 'Content-Type');
```

## Testing

1. Start your Next.js dev server: `npm run dev`
2. Open the page: `http://localhost:3100/github-pages-driver-pickup/index.html`
3. Add `?order=TEST123` to the URL
4. Fill out the form and test submission

## Production Deployment

When you're ready for production:

1. Deploy your Next.js app to Vercel/Netlify
2. Update `API_BASE_URL` in `index.html` to your production domain
3. Commit and push changes to GitHub
4. GitHub Pages will auto-deploy the updated page
5. Update QR code generation in mobile app with GitHub Pages URL

## Alternative: Use Your Own Domain

You can also point a custom domain to GitHub Pages:

1. Go to repository Settings → Pages
2. Under "Custom domain", enter your domain (e.g., `pickup.jerktrackerx.com`)
3. Update DNS records as instructed by GitHub
4. Enable "Enforce HTTPS"

## File Structure

```
github-pages-driver-pickup/
├── index.html          # Main driver pickup page (standalone, no dependencies)
└── README.md          # This file
```

## Support

For issues or questions, contact the development team or check the main JERK Tracker X repository.
